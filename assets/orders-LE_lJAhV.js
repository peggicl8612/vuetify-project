import{u as y,G as h,K as g,c as V,o as n,b as v,w as s,d as o,ai as b,aj as u,E as i,t as l,z as w,aB as x,h as p,F as A,i as B,V as D,C as _,I as C}from"./index-8Iept3yp.js";const E={class:"text-center"},I={__name:"orders",setup(O){const{apiAuth:k}=C(),{t:a}=y(),f=h(),d=g([]),m=V(()=>[{title:"ID",key:"_id"},{title:a("order.account"),key:"user.account"},{title:a("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:a("order.cart"),key:"cart",sortable:!1},{title:a("order.price"),key:"price",value:t=>t.cart.reduce((r,e)=>r+e.product.price*e.quantity,0)}]);return(async()=>{var t,r;try{const{data:e}=await k.get("/order/all");d.value=e.result}catch(e){console.log(e),f({text:a("api."+(((r=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:r.message)||"unknownError")),snackbarProps:{color:"red"}})}})(),(t,r)=>(n(),v(D,null,{default:s(()=>[o(b,null,{default:s(()=>[o(u,{cols:"12"},{default:s(()=>[i("h1",E,l(t.$t("nav.adminOrders")),1)]),_:1}),o(w),o(u,{cols:"12"},{default:s(()=>[o(x,{items:d.value,headers:m.value},{"item.cart":s(e=>[i("ul",null,[(n(!0),p(A,null,B(e.item.cart,c=>(n(),p("li",{key:c._id},l(c.product.name)+" x "+l(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(I);export{I as default};
