import{_ as A,G as F,K as g,c as _,O as I,o as i,b as x,w as s,d as e,ai as V,aj as h,E as v,z as y,h as R,F as B,i as E,an as N,x as S,ao as T,f as r,t as n,aw as c,ax as D,am as M,V as j,C as k,I as z}from"./index-DTRXapC9.js";const m=6,b={__name:"rehomeForm",setup(G){const{apiAuth:p}=z(),f=F(),u=g([]),C=async()=>{try{const a=(await p.get("/user/me")).data.role===1?"/rehome":"/rehome/mine",{data:l}=await p.get(a);console.log(" API 回應:",l),l.success?u.value=l.result:(console.warn("API 回傳錯誤:",l.message),f({text:"獲取送養紀錄失敗: "+l.message,snackbarProps:{color:"pink"}}))}catch(o){console.error(" API Error:",o.response?o.response.data:o),f({text:"獲取送養紀錄失敗",snackbarProps:{color:"pink"}})}},d=g(1),P=_(()=>Math.ceil(u.value.length/m)),w=_(()=>{const o=(d.value-1)*m,t=o+m;return u.value.slice(o,t)});return I(C),(o,t)=>(i(),x(j,null,{default:s(()=>[e(V,null,{default:s(()=>[e(h,{cols:"12"},{default:s(()=>[t[1]||(t[1]=v("h1",{class:"text-center"},"送養紀錄",-1)),e(y)]),_:1})]),_:1}),e(V,null,{default:s(()=>[(i(!0),R(B,null,E(w.value,a=>(i(),x(h,{key:a._id,cols:"12",md:"4"},{default:s(()=>[e(N,{class:"mb-4 card-hover"},{default:s(()=>[e(S,{src:a.image,height:"200px",class:"rounded-top"},null,8,["src"]),e(T,{class:"text-center"},{default:s(()=>[r(n(a.name),1)]),_:2},1024),e(c,{class:"text-center"},{default:s(()=>[r("年齡: "+n(a.age)+" 歲",1)]),_:2},1024),e(c,{class:"text-center"},{default:s(()=>[r("品種: "+n(a.breed),1)]),_:2},1024),e(c,{class:"text-center"},{default:s(()=>[r("性別: "+n(a.gender),1)]),_:2},1024),e(D,{class:"text-center"},{default:s(()=>[r(n(a.description),1)]),_:2},1024),e(c,{class:"text-center"},{default:s(()=>[t[2]||(t[2]=r(" 審核狀態: ")),v("span",null,n(a.status),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(M,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),length:P.value,circle:"",class:"mt-4"},null,8,["modelValue","length"])]),_:1}))}};typeof k=="function"&&k(b);const L=A(b,[["__scopeId","data-v-e82b1886"]]);export{L as default};
